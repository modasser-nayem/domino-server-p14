model Category {
    id String @id @default(uuid())
    name String

    course Course[]

    @@map("categories")
}

model Course {
    id String @id @default(uuid())
    title String
    thumbnail String
    description String
    category_id String
    category Category @relation(fields: [category_id],references: [id])
    instructor_id String?
    instructor User? @relation(fields: [instructor_id], references: [id], name:"instructed")
    price Int
    status CourseStatus @default(upcoming)
    total_modules Int @default(0)
    total_duration Int @default(0)
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    lessons Lesson[]

    @@map("courses")
}

model Lesson {
    id String @id @default(uuid())
    course_id String
    course Course @relation(fields: [course_id], references: [id])
    title String
    description String?
    total_duration Int @default(0)
    order Int

    modules Module[]

    @@map("lessons")
}

model Module {
    id String @id @default(uuid())
    lesson_id String
    lesson Lesson @relation(fields: [lesson_id], references: [id])
    title String
    type ModuleType
    url String
    duration Int
    order Int

    @@map("modules")
}


// CourseStatus
enum CourseStatus {
    upcoming
    open
    closed
}

// ModuleType
enum ModuleType {
    text
    video
    quiz
    assignment
}